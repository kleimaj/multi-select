const updateContainer=(e,t,n,a)=>{n.length>0?(e.value=n.join(","),t.innerText=n.join(", ")):(e.value="",t.innerText=a[0].innerText),e.dispatchEvent(new window.Event("change",{bubbles:!0}))},map={},multiSelect=()=>{document.querySelectorAll(".multi").forEach((e,t)=>{map[t]=[];const{options:n}=e,a=document.createElement("div");e.classList.forEach(e=>{a.classList.add(e)}),e.id&&(a.id=e.id),e.getAttribute("name")&&a.setAttribute("name",e.getAttribute("name")),e.getAttribute("onchange")&&a.setAttribute("onchange",e.getAttribute("onchange"));const d=document.createElement("button");d.classList.add("display");const i=document.createElement("div");i.classList.add("inner"),i.innerText=n[0].innerText,d.value="",a.appendChild(d),d.appendChild(i),e.parentNode.replaceChild(a,e);const s=document.createElement("div");s.classList.add("dropdown");const c=document.createElement("ul");s.classList.add("hidden");for(let e=1;e<n.length;e++){const d=document.createElement("li");d.classList.add("item"),d.innerText=n[e].innerText,d.addEventListener("click",e=>{e.stopPropagation(),map[t].includes(e.target.innerText)?(map[t].splice(map[t].indexOf(e.target.innerText),1),e.target.classList.remove("selected")):(map[t].push(e.target.innerText),e.target.classList.add("selected")),updateContainer(a,i,map[t],n)}),c.appendChild(d)}a.addEventListener("click",e=>{e.stopPropagation(),d.classList.toggle("dropdown-toggle"),s.classList.toggle("hidden")}),a.appendChild(s),s.appendChild(c)}),document.addEventListener("click",e=>{document.querySelectorAll(".display").forEach(e=>{e.classList.remove("dropdown-toggle")}),document.querySelectorAll(".dropdown").forEach(e=>{e.classList.add("hidden")})})};