const updateContainer=(e,t,n,d)=>{n.length>0?(e.value=n.join(","),t.innerText=n.join(", ")):(e.value="",t.innerText=d[0].innerText)},map={},multiSelect=()=>{document.querySelectorAll(".multi").forEach((e,t)=>{map[t]=[];const{options:n}=e,d=document.createElement("div");e.classList.forEach(e=>{d.classList.add(e)}),e.id&&(d.id=e.id),e.getAttribute("name")&&d.setAttribute("name",e.getAttribute("name")),e.getAttribute("onchange")&&d.setAttribute("onchange",e.getAttribute("onchange"));const a=document.createElement("button");a.classList.add("display");const i=document.createElement("div");i.classList.add("inner"),i.innerText=n[0].innerText,a.value="",d.appendChild(a),a.appendChild(i),e.parentNode.replaceChild(d,e);const s=document.createElement("div");s.classList.add("dropdown");const c=document.createElement("ul");s.classList.add("hidden");for(let e=1;e<n.length;e++){const a=document.createElement("li");a.classList.add("item"),a.innerText=n[e].innerText,a.addEventListener("click",e=>{e.stopPropagation(),map[t].includes(e.target.innerText)?(map[t].splice(map[t].indexOf(e.target.innerText),1),e.target.classList.remove("selected")):(map[t].push(e.target.innerText),e.target.classList.add("selected")),updateContainer(d,i,map[t],n)}),c.appendChild(a)}d.addEventListener("click",e=>{e.stopPropagation(),a.classList.toggle("dropdown-toggle"),s.classList.toggle("hidden")}),d.appendChild(s),s.appendChild(c)}),document.addEventListener("click",e=>{document.querySelectorAll(".display").forEach(e=>{e.classList.remove("dropdown-toggle")}),document.querySelectorAll(".dropdown").forEach(e=>{e.classList.add("hidden")})})};document.addEventListener("DOMContentLoaded",function(e){document.querySelectorAll(".multi").forEach((e,t)=>{map[t]=[];const{options:n}=e,d=document.createElement("div");e.classList.forEach(e=>{d.classList.add(e)}),e.id&&(d.id=e.id),e.getAttribute("name")&&d.setAttribute("name",e.getAttribute("name")),e.getAttribute("onchange")&&d.setAttribute("onchange",e.getAttribute("onchange"));const a=document.createElement("button");a.classList.add("display");const i=document.createElement("div");i.classList.add("inner"),i.innerText=n[0].innerText,a.value="",d.appendChild(a),a.appendChild(i),e.parentNode.replaceChild(d,e);const s=document.createElement("div");s.classList.add("dropdown");const c=document.createElement("ul");s.classList.add("hidden");for(let e=1;e<n.length;e++){const a=document.createElement("li");a.classList.add("item"),a.innerText=n[e].innerText,a.addEventListener("click",e=>{e.stopPropagation(),map[t].includes(e.target.innerText)?(map[t].splice(map[t].indexOf(e.target.innerText),1),e.target.classList.remove("selected")):(map[t].push(e.target.innerText),e.target.classList.add("selected")),updateContainer(d,i,map[t],n)}),c.appendChild(a)}d.addEventListener("click",e=>{e.stopPropagation(),a.classList.toggle("dropdown-toggle"),s.classList.toggle("hidden")}),d.appendChild(s),s.appendChild(c)}),document.addEventListener("click",e=>{document.querySelectorAll(".display").forEach(e=>{e.classList.remove("dropdown-toggle")}),document.querySelectorAll(".dropdown").forEach(e=>{e.classList.add("hidden")})})});