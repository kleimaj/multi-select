const updateContainer=(e,t,n,i)=>{n.length>0?(e.value=n.join(","),t.innerText=n.join(", ")):(e.value="",t.innerText=i[0].innerText),e.dispatchEvent(new window.Event("change",{bubbles:!0}))},map={},multiSelect=()=>{document.querySelectorAll(".multi").forEach((e,t)=>{map[t]=[];const{options:n}=e,i=document.createElement("div");e.classList.forEach(e=>{i.classList.add(e)}),e.id&&(i.id=e.id),e.getAttribute("name")&&i.setAttribute("name",e.getAttribute("name")),e.getAttribute("onchange")&&i.setAttribute("onchange",e.getAttribute("onchange"));const l=document.createElement("button");l.classList.add("multi__display");const a=document.createElement("div");a.classList.add("multi__inner"),a.innerText=n[0].innerText,l.value="",i.appendChild(l),l.appendChild(a),e.parentNode.replaceChild(i,e);const d=document.createElement("div");d.classList.add("multi__dropdown");const s=document.createElement("ul");d.classList.add("multi--hidden");for(let e=1;e<n.length;e++){const l=document.createElement("li");l.classList.add("multi__li-item"),l.innerText=n[e].innerText,l.addEventListener("click",e=>{e.stopPropagation(),map[t].includes(e.target.innerText)?(map[t].splice(map[t].indexOf(e.target.innerText),1),e.target.classList.remove("multi__li-item--selected")):(map[t].push(e.target.innerText),e.target.classList.add("multi__li-item--selected")),updateContainer(i,a,map[t],n)}),s.appendChild(l)}i.addEventListener("click",e=>{e.stopPropagation(),l.classList.toggle("multi__dropdown--toggle"),d.classList.toggle("multi--hidden")}),i.appendChild(d),d.appendChild(s)}),document.addEventListener("click",e=>{document.querySelectorAll(".multi__display").forEach(e=>{e.classList.remove("multi__dropdown--toggle")}),document.querySelectorAll(".multi__dropdown").forEach(e=>{e.classList.add("multi--hidden")})})};